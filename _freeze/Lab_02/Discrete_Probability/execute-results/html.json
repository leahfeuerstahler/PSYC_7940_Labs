{
  "hash": "8f9c105e710287d3f2dcf73b1b65bc47",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Lab 2: Discrete Probability\"\ndate: January 28, 2026\n---\n\n## Introduction\n\nThis week, we will use `ggplot` to visualize data:\n\n-   Visualize descriptive statistics\n\n-   Simple simulation studies\n\n-   Visualize simulated data\n\n-   Discrete distributions in R\n\n## `ggplot` Introduction\n\n-   Load the `tidyverse` package, which will load the `ggplot2` and other packages.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n-   Read Data into `R`\n\n    - Some datasets are including in R packages, such as the `iris` data:\n    \n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- iris\n```\n:::\n\n\n    -   Also download the `Titanic_Survival.csv` file from Blackboard and load it into your `R` session:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata2 <- read_csv(\"Titanic_Survival.csv\")\n```\n:::\n\n\n## Descriptive Statistics\n\n-   Visualization is an essential tool to understand your data.\n\n-   To use `ggplot` to create a scatterplot , we need to specify dataset, $x$-axis and $y$-axis\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data, aes(x = Sepal.Length, y = Sepal.Width))\n```\n\n::: {.cell-output-display}\n![](Discrete_Probability_files/figure-revealjs/unnamed-chunk-4-1.png){width=960}\n:::\n:::\n\n\nAn empty plot!\n\n## Descriptive Statistics\n\n-   **Add** types of plot we want, for example:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data, aes(x = Sepal.Length, y = Sepal.Width))+\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](Discrete_Probability_files/figure-revealjs/unnamed-chunk-5-1.png){width=960}\n:::\n:::\n\n\n## Descriptive Statistics\n\n-   To make a barplot, only `x` aesthetic is needed:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data, aes(x = Species))+ geom_bar()\n```\n\n::: {.cell-output-display}\n![](Discrete_Probability_files/figure-revealjs/unnamed-chunk-6-1.png){width=960}\n:::\n:::\n\n\n## Descriptive Statistics\n\n-   To learn more about different methods, we can check the help page by:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n?ggplot\n```\n:::\n\n\n-   If you have any question on any command, looking at the help page (`?`) is a good start. \n\n## Simulation and Visualizing PMFs\n\n-   This section covers topics below:\n    -   Bernoulli distribution\n    -   Binomial distribution\n    -   Multinomial distribution\n-   In this section, we will talk about how to visualize discrete distributions using probability mass functions (PMFs).\n\n## Functions in `R`\n\n-   In R, many stats functions have already been installed:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrbinom() #Generate random binomial data\nrmultinom() # Generate random multinomial data\n```\n:::\n\n\n-   In R, the command names are usually defined by `r`, `d`, `q` plus simplified function name like `binom`, `norm` or `lnorm`.\n\n    -   `r` means \"randomly sample from the function\". This function can be used to generate data from a specific distribution.\n    -   `d` means \"density\". It gives the probability of an outcome (discrete functions only).\n    -   `q` means \"quantile\". It gives the quantile associated with a given probability.\n    -   `p` cumulative distribution function. It gives the probability of an outcome at or below a quantile. This is the inverse function of `q`.\n\n## Functions in `R`\n\n-   Still, if you have any questions, use...\n\n\n::: {.cell}\n\n```{.r .cell-code}\n?rbinom\n```\n:::\n\n\n-   You can find the information for `rbinom`, `pbinom`. `qbinom` and `rbinom` in the same help page.\n\n## Simulation\n\n-   There are two ways to generate large discrete datasets from `R`:\n\n    - `sample`\n    - Distribution-specific functions like `rbinom`\n\n## Simulation with `sample`\n\nThe following code generates 10,000 0's and 1's where 1 is drawn with probability 1/6. We can imagine this as the probability of rolling a 6 on a die.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsamples <- sample(x = c(0,1), # values to sample\n            size = 1e4, # how many samples to draw\n            replace = TRUE, # sample WITH replacement (allow repeats)\n            prob = c(5/6, 1/6)) # probability for each outcome\n```\n:::\n\n\nBecause this is a random sampling process, we may get different results every time we run the code. If we want to perfectly replicate a simulation process, we can use `set.seed` before generating data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(8765)\n\nsamples <- sample(x = c(0,1), \n                  size = 1e4, \n                  replace = TRUE, \n                  prob = c(5/6, 1/6)) \n```\n:::\n\n\n## Visualize the Result\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsamples<-as.data.frame(samples)\nggplot(samples, aes(x=samples))+ geom_bar()\n```\n\n::: {.cell-output-display}\n![](Discrete_Probability_files/figure-revealjs/unnamed-chunk-12-1.png){width=960}\n:::\n:::\n\n\n\n## An Equivalent Method to Simulate Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsamples2<-rbinom(1e4, size = 1, prob = 1/6)\nsamples2<-data.frame(samples2)\nggplot(samples2, aes(x=samples2))+ geom_bar()\n```\n\n::: {.cell-output-display}\n![](Discrete_Probability_files/figure-revealjs/unnamed-chunk-13-1.png){width=960}\n:::\n:::\n\n\n## Other Discrete Distributions\n\nThe previous example sampled from the Bernoulli distribution, which describe an event with dichotomous (0/1) outcome.\n\n* `size = 1` indicates 1 observation, `prob` is the fixed probability of \"event =1\".\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndbinom(x=c(0,1), size = 1, prob = 1/6)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.8333333 0.1666667\n```\n\n\n:::\n:::\n\n\n-   The result shows probability of \"event =0\" and probability of \"event =1\". The probability of \"event =2\" is 0, because it is not one of the possible outcomes.\n\n* If you roll 1 die, you cannot observe 2 6's.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndbinom(c(0,1,2), size = 1, prob = 1/6)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.8333333 0.1666667 0.0000000\n```\n\n\n:::\n:::\n\n\n## Other Discrete Distributions\n\nThe binomial distribution is a generalization of the Bernoulli distribution that allows for greater values of `size` (e.g., rolling more dice).\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndbinom(c(0,1,2), size = 2, prob = 1/6)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.69444444 0.27777778 0.02777778\n```\n\n\n:::\n:::\n\n\nThe result shows if the probability of 0, 1, or 2 independent events if the probability of a single event is 1/6. \n\n* For example, above represents the number of 6's if you roll 2 dice.\n\n## Other Discrete Distributions\n\n-  The binomial distribution can be generalized to the multinomial distribution. In the binomial distribution, we have several observations of dichotomous events (0/1). However, in the multinomial distribution, the range of events extends to $n$ categories, \"event =(1, 2, ..., $n$)\".\n\n-   The sum of probabilities for individual events equals 1.\n\n-   Each event is independent to each other.\n\n-   For example, if the event has three categories (1, 2, 3), the probability of each event is 1/3, and we make 2 observations, what is the probability of observing the first event twice?\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndmultinom(c(2,0,0), size = 2, prob = c(1/3, 1/3, 1/3))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.1111111\n```\n\n\n:::\n:::\n\n\n## Other Discrete Distributions\n\n-   We can generalize the multinomial distribution to more complicated conditions. For example in lecture:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndmultinom(x = c(5, 0, 0), size = 5,\n          prob = c(.3716564, .3357767, .2925669))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.00709101\n```\n\n\n:::\n:::\n\n\n**How to interpret this result?**\n\n## Other Discrete Distributions\n\n-   Negative Binomial Distribution\n\n    -   For a series of Bernoulli trials with a certain probability of \"event = 1\", what is the probability that \"event = 0\" occurs `x` number of times before we observe \"event = 1\" `size` times?\n    - It models the number of failures (0) before we observe a certain number of success (1).\n    \n\n::: {.cell}\n\n```{.r .cell-code}\ndnbinom(x=2, size=1, prob=0.3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.147\n```\n\n\n:::\n:::\n\n\nYou can also use `mu` to code the `dnbinom`, as we learned:\n    \n$$\\mu = (1-prob) * size/prob$$\n\n::: {.cell}\n\n```{.r .cell-code}\nmu<- (1-0.3)*1/0.3\ndnbinom(x=2, size=1, mu = mu)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.147\n```\n\n\n:::\n:::\n\n\n## Other Discrete Distributions\n\n-   Poisson Distribution\n\n    -   The Poisson represents how many times \"event = 1\" occured in a certain time interval, if the average rate of \"event = 1\" is a constant $\\lambda$. \n    \n\n::: {.cell}\n\n```{.r .cell-code}\ndpois(x = 1, lambda = 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.03368973\n```\n\n\n:::\n:::\n\n\n## Simulation from Poisson Distribution\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(8656)\n\nsamples_pois<-rpois(n = 1e5, lambda = 5) #Simulate dataset\n\nsamples_pois<-data.frame(samples_pois) #Make it a data.frame\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(samples_pois, aes(x=samples_pois))+\n  geom_bar() #Get the plot\n```\n\n::: {.cell-output-display}\n![](Discrete_Probability_files/figure-revealjs/unnamed-chunk-23-1.png){width=960}\n:::\n:::\n\n\n## Simulation from Poisson Distribution\n\nWe can verify the probability using:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(samples_pois==1) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.03453\n```\n\n\n:::\n:::\n\n\n## Activity Part 1\n\n-    Pick one distribution of interest below, simulate 10,000 observations with parameters (e.g., probability) of your choice. Visualize your simulated dataset.\n    \n       -    Bernoulli distribution\n    \n       -    Binomial distribution\n       \n       -    Negative binomial distribution\n       \n       -    Poisson distribution\n    \n       -    Multinomial distribution (Difficult)\n       \n            -   If you simulate data from multinomial distribution, you will get a matrix instead of a vector. How can you visualize the matrix using ggplot2?\n            -   It needs command not covered in the lab. Feel free to use help page and google. Find your own way out!\n       \n## Activity Part 1\n\n**Tips**\n\n::: {.cell}\n\n```{.r .cell-code}\n#Sum rows or columns value\nrowSums()\ncolSums()\n\n#Transpose matrix\nt()\n\n#Making data.frame\ndata.frame()\nas.data.frame()\n```\n:::\n\n\n## Activity Part 2\n\nConsider the following variables in the Titanic data (`data2` that you imported earlier). \n\n* `pclass`: 1 = 1st class, 2 = 2nd class, 3 = 3rd class\n* `survived`: 1 = yes, 0 = no\n* `sex`: female, male\n* `age`: in years\n\nTest out ways to visualize these data. Feel free to consider types of plots that we did not explicitly learn about in this class!\n",
    "supporting": [
      "Discrete_Probability_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}