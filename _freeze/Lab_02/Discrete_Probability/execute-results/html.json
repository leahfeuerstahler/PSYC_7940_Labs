{
  "hash": "12b295bfe8add10ed48b9545d693bc61",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Lab 2: Discrete Probability\"\ndate: January 28, 2026\n---\n\n## Introduction\n\nThis week, we will use `ggplot` to visualize data:\n\n-   Visualize descriptive statistics\n\n-   Simulation \n\n-   Visualize simulated data\n\n-   Introduction of several discrete distributions in R\n\n## `ggplot` Introduction\n\n-   Let's load the `tidyverse` package, which will load the `ggplot2` and other packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n-   Read Data into `R`\n\n    -   If the dataset is installed within Rstudio or a specific package, we can load the dataset by its name\n    -   If the dataset (.csv file) is from local folder, we should input the dataset by code\n    \n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- iris\n#data <- (\"[dataset name]\", package = \"[name of package]\")\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata2 <- read_csv(\"Titanic_Survival.csv\")\n#data2 <- read.delim(\"[file name]\") \n#Use this code if the dataset is .txt file\n```\n:::\n\n\n## Descriptive Statistics\n\n-   Once we have a dataset and want to understand features of it, visualization is essential.\n\n-   To use `ggplot` to visualize, we need to specify dataset, $x$-axis and $y$-axis\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data, aes(x = Sepal.Length, y = Sepal.Width))\n```\n:::\n\n\n-   **Add** types of plot we want, for example:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data, aes(x = Sepal.Length, y = Sepal.Width))+\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](Discrete_Probability_files/figure-revealjs/unnamed-chunk-5-1.png){width=960}\n:::\n:::\n\n\n## Descriptive Statistics\n\n-   To make a barplot:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data, aes(Species))+\n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](Discrete_Probability_files/figure-revealjs/unnamed-chunk-6-1.png){width=960}\n:::\n:::\n\n\n## Descriptive Statistics\n\n-   To learn more about different methods, we can check the help page by:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n?ggplot\n```\n:::\n\n\n-   If you have any question on any command, looking at the help page (`?`) is a good start\n\n## Simulation and Visualizing PMFs\n\n-   This section covers topics below:\n    -   Bernoulli Distribution\n    -   Binomial Distribution\n    -   Multinomial Distribution\n-   In this section, we will talk about how to visualize discrete distributions using probability mess functions\n\n## Functions in `R`\n\n-   In R, many stats functions have already been installed:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrbinom() #Binomial function\nrmultinom() #Multibinomial function\n```\n:::\n\n\n-   In R, the command names are usually defined by `r`, `d`, `q` plus simplified function name like `binom`, `norm` or `lnorm`.\n\n    -   `r` means \"randomly sample from the function\". This function can be used to generate large hypothetical datasets.\n    -   `d` means \"density\". It gives the probability when we use a discrete function\n    -   `q` means \"quantile\". It gives the quantile associated with a given probability\n    -   `p` cumulative distribution function, This is the inverse function of `q`\n\n## Functions in `R`\n\n-   Still, if you have any questions, use...\n\n\n::: {.cell}\n\n```{.r .cell-code}\n?rlnorm\n```\n:::\n\n\n-   You can find the information of `rlnorm`, `dlnorm`. `plnorm` and `qlnorm` in the help page.\n\n## Simulation\n\n-   There are two ways to generate large datasets from `R`:\n\n    -   `sample`\n    -   Installed functions like `rbinom`\n\n## Simulation with `sample`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsamples <- sample(x = c(0,1), # values to sample\n                  size = 1e4, # how many samples to draw\n                  replace = TRUE, # sample WITH replacement (allow repeats)\n                  prob = c(5/6, 1/6)) # probability for each outcome\n```\n:::\n\n\nBecause this is a random sampling process, we may get different results every time we run the code. If we want to perfectly replicate a simulation process, we can use `set.seed` before generating data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(8765)\n\nsamples <- sample(x = c(0,1), \n                  size = 1e4, \n                  replace = TRUE, \n                  prob = c(5/6, 1/6)) \n```\n:::\n\n\n## Visualize the Result\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsamples<-as.data.frame(samples)\nggplot(samples, aes(x=samples))+\n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](Discrete_Probability_files/figure-revealjs/unnamed-chunk-12-1.png){width=960}\n:::\n:::\n\n\n\n## Another Method to Simulate Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsamples2<-rbinom(1e4, size = 1, prob = 1/6)\nsamples2<-data.frame(samples2)\nggplot(samples2, aes(x=samples2))+\n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](Discrete_Probability_files/figure-revealjs/unnamed-chunk-13-1.png){width=960}\n:::\n:::\n\n\n## Other Discrete Distributions\n\n-   The example we used in previous slides focus on bernoulli distribution which describe an event with dichotomous (0/1) result. In command `dbinom`, `size = 1` represents one observation, `prob` is the fixed probability of \"event = 1\".\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndbinom(x=c(0,1), size = 1, prob = 1/6)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.8333333 0.1666667\n```\n\n\n:::\n:::\n\n\n-   The result shows probability of \"event = 0\" and probability of \"event = 1\". We can see the probability of \"event = 2\" is 0, although it makes no sense theoretically. Because we have only one observation:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndbinom(c(0,1,2), size = 1, prob = 1/6)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.8333333 0.1666667 0.0000000\n```\n\n\n:::\n:::\n\n\n## Other Discrete Distributions\n\n-   Once we free the value of `size`, which means we have more than one observation, we have a binomial distribution:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndbinom(c(0,1,2), size = 2, prob = 1/6)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.69444444 0.27777778 0.02777778\n```\n\n\n:::\n:::\n\n\n-   The result shows if the probability of \"event = 1\" is fixed to 1/6, what the probability of 0, 1 or 2 times \"event = 1\" will be if we have 2 independent observations.\n\n-   We can change the parameter as we want. But it makes no sense if `x` \\> `size`.\n\n## Other Discrete Distributions\n\n-   We can generalize the Binomial distribution to multinomial distribution. In binomial distribution, we have several observations of dichotomized events (0/1). However, in the multinomial distribution, the range of event extended to $n$ categories, \"event = $1, 2, ..., n$\".\n\n-   The sum of probability for each event is 1.\n\n-   Each event is independent to each other.\n\n-   For example, if the event has three categories ($1, 2, 3$), the probability of each event is $1/3$, and we only observe 1 time, what is the probability of the observation of \"event = $2$\":\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndmultinom(c(0,1,0), size = 1, prob = c(1/3,1/3,1/3))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.3333333\n```\n\n\n:::\n:::\n\n\n## Other Discrete Distributions\n\nIt is noteworthy that the argument `prob` is not true probability but **support** or **likelihood**. For example, if the values of `prob` do not sum up to 1, we can still get the proportional result:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndmultinom(c(0,1,0), size = 1, prob = c(1,1,1))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.3333333\n```\n\n\n:::\n:::\n\n\n## Other Discrete Distributions\n\n-   We can generalize it to a complicated condition, for example in the lecture\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndmultinom(x = c(5, 0, 0), size = 5,\nprob = c(.3716564, .3357767, .2925669))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.00709101\n```\n\n\n:::\n:::\n\n\n**How to interpret the code of multinomial distribution?**\n\n## Other Discrete Distributions\n\n-   Negative Binomial Distribution\n\n    -   It means with a series of Bernoulli trials with certain probability of \"event = 1\", what is the probability of `size` times \"event = 1\" before x times \"event = 0\".\n    \n\n::: {.cell}\n\n```{.r .cell-code}\ndnbinom(x=2, size=1, prob=0.3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.147\n```\n\n\n:::\n:::\n\n\nOf course, you can use `mu` to code the `dnbinom`, as we learned:\n    \n$$\\mu = (1-prob) * size/prob$$\n\n::: {.cell}\n\n```{.r .cell-code}\nmu<- (1-0.3)*1/0.3\ndnbinom(x=2, size=1, mu = mu)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.147\n```\n\n\n:::\n:::\n\n\n## Other Discrete Distributions\n\n-   Poisson Distribution\n\n    -   It represents the number of \"event = 1\" occured in a certain time interval, if the average rate of \"event = 1\" is a constant $\\lambda$. \n    \n\n::: {.cell}\n\n```{.r .cell-code}\ndpois(1, 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.03368973\n```\n\n\n:::\n:::\n\n\n## Simulation from Poisson Distribution\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(8656)\n\nsamples_pois<-rpois(1e5, lambda = 5) #Simulate dataset\n\nsamples_pois<-data.frame(samples_pois) #Make it a data.frame\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(samples_pois, aes(x=samples_pois))+\n  geom_bar() #Get the plot\n```\n\n::: {.cell-output-display}\n![](Discrete_Probability_files/figure-revealjs/unnamed-chunk-24-1.png){width=960}\n:::\n:::\n\n\n## Simulation from Poisson Distribution\n\nWe can verify the probability using:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(samples_pois==1) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.03453\n```\n\n\n:::\n:::\n\n\n## Activity\n\n-    Pick one distribution of interest below, simulate 10000 random data with any parameters set, and visualize your simulated dataset.\n    \n       -    Bernoulli distribution\n    \n       -    Binomial distribution\n    \n       -    Multinomial distribution (Difficult)\n       \n            -   If you simulate data from multinomial distribution, you will get a matrix instead of a vector. How will you visualize the matrix using ggplot2?\n            -   It needs command not covered in the lab. Feel free to use help page and google. Find your own way out!\n       \n\n-   What do the $x$-axis and $y$-axis represent in the figure?\n\n## Activity\n\n**Tips**\n\n::: {.cell}\n\n```{.r .cell-code}\n#Sum rows or columns value\nrowSums()\ncolSums()\n\n#Transpose matrix\nt()\n\n#Making data.frame\ndata.frame()\nas.data.frame()\n```\n:::\n\n",
    "supporting": [
      "Discrete_Probability_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}